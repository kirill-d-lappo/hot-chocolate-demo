schema @link(import: [ "@key", "@tag", "@shareable", "FieldSet" ], url: "https:\/\/specs.apollo.dev\/federation\/v2.7") {
  query: Query
  mutation: Mutation
}

interface Error {
  message: String!
}

"A connection to a list of items."
type AllBoolValuesConnection {
  "A list of edges."
  edges: [AllBoolValuesEdge!]
  "A flattened list of the nodes."
  nodes: [Boolean]
  "Information to aid in pagination."
  pageInfo: PageInfo!
}

"An edge in a connection."
type AllBoolValuesEdge {
  "A cursor for use in pagination."
  cursor: String!
  "The item at the end of the edge."
  node: Boolean
}

"A connection to a list of items."
type AllRolesConnection {
  "A list of edges."
  edges: [AllRolesEdge!]
  "A flattened list of the nodes."
  nodes: [RoleEntity]
  "Information to aid in pagination."
  pageInfo: PageInfo!
}

"An edge in a connection."
type AllRolesEdge {
  "A cursor for use in pagination."
  cursor: String!
  "The item at the end of the edge."
  node: RoleEntity
}

"A connection to a list of items."
type AllStringValuesConnection {
  "A list of edges."
  edges: [AllStringValuesEdge!]
  "A flattened list of the nodes."
  nodes: [String]
  "Information to aid in pagination."
  pageInfo: PageInfo!
}

"An edge in a connection."
type AllStringValuesEdge {
  "A cursor for use in pagination."
  cursor: String!
  "The item at the end of the edge."
  node: String
}

"A connection to a list of items."
type AllUserRolesConnection {
  "A list of edges."
  edges: [AllUserRolesEdge!]
  "A flattened list of the nodes."
  nodes: [UserRoleEntity]
  "Information to aid in pagination."
  pageInfo: PageInfo!
}

"An edge in a connection."
type AllUserRolesEdge {
  "A cursor for use in pagination."
  cursor: String!
  "The item at the end of the edge."
  node: UserRoleEntity
}

"A connection to a list of items."
type AllUsersConnection {
  "A list of edges."
  edges: [AllUsersEdge!]
  "A flattened list of the nodes."
  nodes: [UserEntity]
  "Information to aid in pagination."
  pageInfo: PageInfo!
}

"An edge in a connection."
type AllUsersEdge {
  "A cursor for use in pagination."
  cursor: String!
  "The item at the end of the edge."
  node: UserEntity
}

type CreateUserPayload {
  errors: [CreateUserError!]
  userEntity: UserEntity
}

type KeyValuePairOfStringAndObject {
  key: String!
}

type KeyValuePairOfStringAndString__ {
  key: String!
  value: [String!]!
}

type Mutation {
  createUser(input: CreateUserInput): CreateUserPayload!
}

"Information about pagination in a connection."
type PageInfo {
  "When paginating forwards, the cursor to continue."
  endCursor: String @shareable
  "Indicates whether more edges exist following the set defined by the clients arguments."
  hasNextPage: Boolean! @shareable
  "Indicates whether more edges exist prior the set defined by the clients arguments."
  hasPreviousPage: Boolean! @shareable
  "When paginating backwards, the cursor to continue."
  startCursor: String @shareable
}

type PermissionEntity @key(fields: "key") @key(fields: "id") {
  id: Long!
  key: String
  rolePermissions: [RolePermissionEntity]
  roles: [RoleEntity]
}

type Query {
  _entities(representations: [_Any!]!): [_Entity]!
  _service: _Service!
  allBoolValues("Returns the elements in the list that come after the specified cursor." after: String "Returns the elements in the list that come before the specified cursor." before: String "Returns the first _n_ elements from the list." first: Int "Returns the last _n_ elements from the list." last: Int where: BooleanInputType): AllBoolValuesConnection
  allRoles("Returns the elements in the list that come after the specified cursor." after: String "Returns the elements in the list that come before the specified cursor." before: String "Returns the first _n_ elements from the list." first: Int "Returns the last _n_ elements from the list." last: Int order: [RoleEntitySortInput!] where: RoleEntityFilterInput): AllRolesConnection
  allStringValues("Returns the elements in the list that come after the specified cursor." after: String "Returns the elements in the list that come before the specified cursor." before: String "Returns the first _n_ elements from the list." first: Int "Returns the last _n_ elements from the list." last: Int where: StringInputType): AllStringValuesConnection
  allUserRoles("Returns the elements in the list that come after the specified cursor." after: String "Returns the elements in the list that come before the specified cursor." before: String "Returns the first _n_ elements from the list." first: Int "Returns the last _n_ elements from the list." last: Int order: [UserRoleEntitySortInput!] where: UserRoleEntityFilterInput): AllUserRolesConnection
  allUsers("Returns the elements in the list that come after the specified cursor." after: String "Returns the elements in the list that come before the specified cursor." before: String "Returns the first _n_ elements from the list." first: Int "Returns the last _n_ elements from the list." last: Int order: [UserEntitySortInput!] where: UserEntityFilterInput): AllUsersConnection
  roleByIdViaDataLoader(roleId: Long!): RoleEntity
  userByUserName(input: UserByUserNameInput!): UserByUserNameResult!
}

type RoleEntity @key(fields: "id") @key(fields: "id") {
  id: Long!
  name: String
  permissions: [PermissionEntity]
  rolePermissions: [RolePermissionEntity]
  userRoles: [UserRoleEntity]
  users: [UserEntity]
}

type RolePermissionEntity @key(fields: "roleId permissionId") {
  permission: PermissionEntity
  permissionId: Long!
  role: RoleEntity
  roleId: Long!
}

type UserAlreadyExistsError implements Error {
  message: String!
}

type UserEntity @key(fields: "id") @key(fields: "id") {
  activityLevel: UserActivityLevel!
  birthDate: DateTime
  id: Long!
  roles: [RoleEntity]
  userName: String
  userRoles: [UserRoleEntity]
}

type UserNotFoundError implements Error {
  message: String!
}

type UserRoleEntity @key(fields: "userId roleId") {
  role: RoleEntity
  roleId: Long!
  user: UserEntity
  userId: Long!
}

type ValidationError implements Error {
  message: String!
  validationResult: ValidationResult
}

type ValidationFailure {
  errorCode: String
  errorMessage: String
  formattedMessagePlaceholderValues: [KeyValuePairOfStringAndObject!]
  propertyName: String
  severity: Severity!
}

type ValidationResult {
  errors: [ValidationFailure]
  isValid: Boolean!
  ruleSetsExecuted: [String]
  toDictionary: [KeyValuePairOfStringAndString__!]
}

"This type provides a field named sdl: String! which exposes the SDL of the service's schema. This SDL (schema definition language) is a printed version of the service's schema including the annotations of federation directives. This SDL does not include the additions of the federation spec."
type _Service {
  sdl: String!
}

union CreateUserError = UserAlreadyExistsError | ValidationError

union UserByUserNameResult = UserEntity | UserNotFoundError | ValidationError

"Union of all types that key directive applied. This information is needed by the Apollo federation gateway."
union _Entity = UserRoleEntity | UserEntity | RoleEntity | RolePermissionEntity | PermissionEntity

input BooleanInputType {
  and: [BooleanInputType!]
  or: [BooleanInputType!]
  _this: BooleanOperationFilterInput
}

input BooleanOperationFilterInput {
  eq: Boolean
  neq: Boolean
}

input CreateUserInput {
  birthDateTime: DateTime!
  userName: String
}

input DateTimeOperationFilterInput {
  eq: DateTime
  neq: DateTime
  in: [DateTime]
  nin: [DateTime]
  gt: DateTime
  ngt: DateTime
  gte: DateTime
  ngte: DateTime
  lt: DateTime
  nlt: DateTime
  lte: DateTime
  nlte: DateTime
}

input IntOperationFilterInput {
  eq: Int
  neq: Int
  in: [Int]
  nin: [Int]
  gt: Int
  ngt: Int
  gte: Int
  ngte: Int
  lt: Int
  nlt: Int
  lte: Int
  nlte: Int
}

input ListFilterInputTypeOfPermissionEntityFilterInput {
  all: PermissionEntityFilterInput
  none: PermissionEntityFilterInput
  some: PermissionEntityFilterInput
  any: Boolean
}

input ListFilterInputTypeOfRoleEntityFilterInput {
  all: RoleEntityFilterInput
  none: RoleEntityFilterInput
  some: RoleEntityFilterInput
  any: Boolean
}

input ListFilterInputTypeOfRolePermissionEntityFilterInput {
  all: RolePermissionEntityFilterInput
  none: RolePermissionEntityFilterInput
  some: RolePermissionEntityFilterInput
  any: Boolean
}

input ListFilterInputTypeOfUserEntityFilterInput {
  all: UserEntityFilterInput
  none: UserEntityFilterInput
  some: UserEntityFilterInput
  any: Boolean
}

input ListFilterInputTypeOfUserRoleEntityFilterInput {
  all: UserRoleEntityFilterInput
  none: UserRoleEntityFilterInput
  some: UserRoleEntityFilterInput
  any: Boolean
}

input LongOperationFilterInput {
  eq: Long
  neq: Long
  in: [Long]
  nin: [Long]
  gt: Long
  ngt: Long
  gte: Long
  ngte: Long
  lt: Long
  nlt: Long
  lte: Long
  nlte: Long
}

input PermissionEntityFilterInput {
  and: [PermissionEntityFilterInput!]
  or: [PermissionEntityFilterInput!]
  id: LongOperationFilterInput
  key: StringInputType
  roles: ListFilterInputTypeOfRoleEntityFilterInput
  rolePermissions: ListFilterInputTypeOfRolePermissionEntityFilterInput
}

input RoleEntityFilterInput {
  and: [RoleEntityFilterInput!]
  or: [RoleEntityFilterInput!]
  id: LongOperationFilterInput
  name: StringInputType
  users: ListFilterInputTypeOfUserEntityFilterInput
  permissions: ListFilterInputTypeOfPermissionEntityFilterInput
  userRoles: ListFilterInputTypeOfUserRoleEntityFilterInput
  rolePermissions: ListFilterInputTypeOfRolePermissionEntityFilterInput
}

input RoleEntitySortInput {
  id: SortEnumType
  name: SortEnumType
}

input RolePermissionEntityFilterInput {
  and: [RolePermissionEntityFilterInput!]
  or: [RolePermissionEntityFilterInput!]
  roleId: LongOperationFilterInput
  permissionId: LongOperationFilterInput
  role: RoleEntityFilterInput
  permission: PermissionEntityFilterInput
}

input StringInputType {
  and: [StringInputType!]
  or: [StringInputType!]
  _this: StringOperationFilterInput
  length: IntOperationFilterInput
}

input StringOperationFilterInput {
  and: [StringOperationFilterInput!]
  or: [StringOperationFilterInput!]
  eq: String
  neq: String
  contains: String
  ncontains: String
  in: [String]
  nin: [String]
  startsWith: String
  nstartsWith: String
  endsWith: String
  nendsWith: String
}

input UserActivityLevelOperationFilterInput {
  eq: UserActivityLevel
  neq: UserActivityLevel
  in: [UserActivityLevel!]
  nin: [UserActivityLevel!]
}

input UserByUserNameInput {
  userName: String!
}

input UserEntityFilterInput {
  and: [UserEntityFilterInput!]
  or: [UserEntityFilterInput!]
  id: LongOperationFilterInput
  userName: StringInputType
  birthDate: DateTimeOperationFilterInput
  activityLevel: UserActivityLevelOperationFilterInput
  roles: ListFilterInputTypeOfRoleEntityFilterInput
  userRoles: ListFilterInputTypeOfUserRoleEntityFilterInput
}

input UserEntitySortInput {
  id: SortEnumType
  userName: SortEnumType
  birthDate: SortEnumType
  activityLevel: SortEnumType
}

input UserRoleEntityFilterInput {
  and: [UserRoleEntityFilterInput!]
  or: [UserRoleEntityFilterInput!]
  userId: LongOperationFilterInput
  roleId: LongOperationFilterInput
  user: UserEntityFilterInput
  role: RoleEntityFilterInput
}

input UserRoleEntitySortInput {
  userId: SortEnumType
  roleId: SortEnumType
  user: UserEntitySortInput
  role: RoleEntitySortInput
}

enum Severity {
  ERROR
  WARNING
  INFO
}

enum SortEnumType {
  ASC
  DESC
}

enum UserActivityLevel {
  BASIC
  ADVANCED
  PRO
}

"Used to indicate a combination of fields that can be used to uniquely identify and fetch an object or interface."
directive @key(fields: FieldSet! resolvable: Boolean = true) repeatable on OBJECT | INTERFACE

"Links definitions within the document to external schemas."
directive @link("Gets optional list of imported element names." import: [String!] "Gets imported specification url." url: String!) repeatable on SCHEMA

"Indicates that given object and\/or field can be resolved by multiple subgraphs."
directive @shareable repeatable on OBJECT | FIELD_DEFINITION

"The `@specifiedBy` directive is used within the type system definition language to provide a URL for specifying the behavior of custom scalar definitions."
directive @specifiedBy("The specifiedBy URL points to a human-readable specification. This field will only read a result for scalar types." url: String!) on SCALAR

"The `DateTime` scalar represents an ISO-8601 compliant date time type."
scalar DateTime @specifiedBy(url: "https:\/\/www.graphql-scalars.com\/date-time")

"Scalar representing a set of fields."
scalar FieldSet

"The `Long` scalar type represents non-fractional signed whole 64-bit numeric values. Long can represent values between -(2^63) and 2^63 - 1."
scalar Long

"The _Any scalar is used to pass representations of entities from external services into the root _entities field for execution. Validation of the _Any scalar is done by matching the __typename and @external fields defined in the schema."
scalar _Any